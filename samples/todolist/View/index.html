<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <title>Todo List</title>

        <script language="javascript" src="http://localhost/inc/html5shiv-printshiv.js"></script> 
        <script language="javascript" src="http://localhost/inc/jquery-1.10.2.js"></script> 
        <script language="javascript" src="http://localhost/inc/bootstrap.js"></script> 
        <script language="javascript" src="http://localhost/inc/moment-with-langs.js"></script>  
        <script language="javascript" src="http://localhost/inc/all.js"></script>  
        <script language="javascript" src="http://localhost/inc/index.js"></script>  


        <link  href="http://localhost/inc/bootstrap.css" rel="stylesheet" type="text/css" />
        <link  href="http://localhost/inc/bootstrap-theme.css" rel="stylesheet" type="text/css" />
        <link  href="http://localhost/inc/bootstrap-combined.min.css" rel="stylesheet" type="text/css" /> 
        <link  href="http://localhost/inc/all.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="http://localhost/">Todo List (<% print(user.userName) %>)</a>
            </div>
            <div class="collapse navbar-collapse">
                <div class="navbar-form navbar-left" role="search" > 
                    <input type="text" class="form-control searchitem_input" id="search" placeholder="Search Item"> 
                </div> 
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://localhost/logout">Logout</a></li>
                </ul> 
            </div>
        </nav>

        <div class="alert_div"></div>
        <div class="row-fluid acc-wizard" style="margin: 5px;">
            <div class="span9">
                <div class="accordion" id="todoList"> 
                    <div class="form-group" id="new_list_div">
                        <input type="text" class="form-control" id="new_list" placeholder="List Name"> 
                        <a href="#" class="btn btn-info" id="btnAddList">AddList</a>
                    </div> 
                    <% 
                    var list=user.list;
                    if(!isObjectEmpty(list))
                    {
                        for(var i=0;i<list.length;i++){
                            var todoList=list[i];
                            print('<div class="accordion-group" id="group_item_'+todoList.id+'">');
                                print('<div class="accordion-heading">');
                                    print('<a class="accordion-toggle collapsed todoListCss" data-toggle="collapse" data-parent="#todoList" href="#todoList_'+todoList.id+'">');
                                        print(escapeHtml(todoList.name));  
                                        print('<a class="btn btn-danger todoListDel" href="#" id="" dataId="'+todoList.id+'"><i class="icon-trash icon-white"></i></a>');
                                        print('<a class="btn btn-success todoListEdit" href="#" id="" dataId="'+todoList.id+'"><i class="icon-pencil icon-white"></i></a>');
                                    print('</a>');
                                print('</div>');
                                var todoListItems=todoList.items;
                                if(!isObjectEmpty(todoListItems))  { 
                                    print('<div id="todoList_'+todoList.id+'" class="accordion-body collapse" style="height: 0px;">');     
                                        print('<div class="accordion-inner">');
                                            print('<div class="form-group newlist_item_div" id="new_list_item_div_'+todoList.id+'">');
                                                print('<input type="text" dataListId="'+todoList.id+'" class="form-control newlist_item_inpt" id="new_list_item_'+todoList.id+'" placeholder="Item Text">');
                                                print('<a href="#" dataListId="'+todoList.id+'" class="btn btn-info btnAddListItem" id="btnAddListItem_'+todoList.id+'">AddItem</a>');
                                            print('</div>');
                                            for(var j=0;j<todoListItems.length;j++) {
                                                var todoListItem=todoListItems[j];
                                                print('<div class="todoListItemCss" id="todoListItem_div_'+todoListItem.id+'">');
                                                    print(escapeHtml(todoListItem.text+' - '+todoListItem.status));
                                                    print('<a class="btn btn-success todoListItemEdit" href="#" id="" dataId="'+todoListItem.id+'"><i class="icon-pencil icon-white"></i></a>');
                                                    print('<a class="btn btn-danger todoListItemDel" href="#" id="" dataId="'+todoListItem.id+'"><i class="icon-trash icon-white"></i></a>');
                                                print('</div>');
                                            }
                                        print('</div>');
                                    print('</div>');
                                }  
                            print('</div>');  
                        }
                    }
                    %>
                </div>
            </div>
        </div>
    </body>
</html>